<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
   <head>
	    <title>Login</title>
	    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/solid.css">
	    <script src="https://use.fontawesome.com/releases/v5.0.7/js/all.js"></script>
	    <link rel="stylesheet" type="text/css" href="static/css/index.css" th:href="@{/css/index.css}">
	    <link rel="stylesheet" type="text/css" href="static/css/index.css" th:href="@{/css/main.css}">
   </head>
   <body class="tumbaNazarik">
      <div class="barMenu">
      	<div class="barMenuHead">
      		<a class="buttonMenu" href="/">Nazarick</a>
      	</div>
      	<div class="barMenuElements">
      		<a class="buttonMenu" href="registrarUsuario">Registrarte</a>
      		<a class="buttonMenu" href="login">Iniciar Sesion</a>
      	</div>
      </div>
      <div class="modal-dialog text-center">
      		<div class="col-sm-8 main-section">
           		 <div class="modal-content">
            		<div class="col-12 user-img">
                    	<img src="static/img/user.png" th:src="@{/img/user.png}"/>
                	</div>
				          <div th:if="${#request.getParameter('error') == 'true'}" style="color:red;margin:10px 0px;">
				         Login Failed!!!<br/>
				         Reason :
				         <span th:if="${#session!= null and #session.getAttribute('SPRING_SECURITY_LAST_EXCEPTION') != null}">
				                Static summary
				         </span>
				            
				      </div>				       
				      <form class="col-12"  name='f' th:action="@{/validarRegistrarUsuario}" th:object="${userNew}" method='POST'>
				      		<div class="form-group" id="user-group">
								<p th:text="${message}" style="color:red"></p>
	                        	<input type='text' class="form-control"  th:field="${userNew.userName}" placeholder="Nombre de usuario"  name='username' value=''>
									<span th:errors="${userNew.userName}" style="color:red;"></span><br>	                    	
	                    	</div>
	                    	<div class="form-group" id="contrasena-group">
		                        <input type='password' class="form-control" th:field="${userNew.encrytedPassword}" placeholder="Contrasenia" name='password' />
									<span  th:errors="${userNew.encrytedPassword}" style="color:red;"></span><br>		                   
		                    </div>
		                    <select class="form-control" name="role">
		                    	<option th:value="2"
										th:text ="Coordinador">
								</option>
								<option th:value="1"
										th:text ="Administrador">
								</option>
							</select>
		                    <br>
		                    <button type="submit" class="btn btn-primary"><i class="fas fa-sign-in-alt"></i>  Ingresar </button>
				      </form>

				      <br> 
	            </div>
	        </div>
	    </div>
   </body>
    
</html>

